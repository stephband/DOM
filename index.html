<!DOCTYPE html><html lang="en" class=" js content-loading loading"><head>
    
    <meta charset="utf-8">
    <meta name="author" content="stephband">
    <meta name="description" content="Documentation for dom. A library of DOM functions for HTML and SVG, importable as individual ES modules.">
    <meta name="viewport" content="width=device-width">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@stephband">
    <meta property="og:url" content="http://stephen.band/dom/">
    <meta property="og:title" content="dom">
    <meta property="og:description" content="A library of DOM functions for HTML and SVG, importable as individual ES modules.">
    <meta property="og:image" content="https://stephen.band/images/logo.png">

    <title>dom</title>

    <script title="load">
    document.documentElement.className += ' js content-loading loading';
    window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
    // Wait for other load handlers to run first - Bolt does a few things on
    // load (eg. data-targetable scrolls) and we want them to run before the loading
    // class is removed
    window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
    </script>

    <link rel="shortcut icon" href="images/logo-64x64.ico">
    <link rel="icon" type="image/png" href="images/logo-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="images/logo-64x64.png" sizes="64x64">
    <link rel="icon" type="image/png" href="images/logo-128x128.png" sizes="128x128">

    <link rel="stylesheet" href="style.min.css">
    <!--link rel="stylesheet" href="style.css" /-->
</head>

<body class="@3-12-grid grid">
    <a href="/dom/state.html" data-arse="true">State</a>
    <a href="/dom/state.html?param=5" data-arse="true">State vvv</a>
    <a href="/n-400/route.html">Route</a>
    <a href="/n-400/catch-all">Route catch all</a>
    <a href="/n-400/catch-all?name=value&number=9">Route catch all with params</a>
    <a href="/n-400/external">Route flag unhandled</a>
    <a href="/outside.html">Outside</a>

    <!-- Document interactivity -->
    <script type="module">
        import delegate from '../dom/modules/delegate.js';
        import events   from '../dom/modules/events.js';

        import route from './modules/routes.js';
        import location from './modules/location.js';

        import pattern  from '../fn/modules/pattern.js';
        import arg  from '../fn/modules/arg.js';

        location.on(route({
            '^dom/state.html': function arse(location) {
                console.log(location.base + location.path, 'dom/state.html', location.route, location.state);
            },

            '^n-(\\d+)/': route({
                '^([a-z]+).html': function bugger(location) {
                    console.log(location.base + location.path, 'n-*/*.html', location.route, location.state);

                    location.on({
                        params: function(location) {
                            console.log(location.params);
                        }
                    });

                    location.done(function() {
                        console.log(location.base + location.path, 'DONE');
                    });
                },

                '^external': function(location, $1) {
                    console.log('VIEW', location.base + location.path, location.route, location.state);

                    // Return false to signal unhandled
                    return false;
                },

                '^': function(location, $1) {
                    console.log('VIEW', location.base + location.path, location.route, location.state);
                }
            })
        }));

        events('click', document)
        .each(delegate({
            'a[href]': function(a, e) {
                location.navigate(a, Object.assign({}, a.dataset));
                e.preventDefault();
            }
        }));
    </script>
</body>
</html>